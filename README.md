# LinuxServerMonitor项目介绍

本项目是我自身在学习和实习期间，将所见所学整理的一套服务器监控软件。使用的`C++`，`grpc`，`shell` , `docker` ，`proto` ，`cmake` ,`git` ，`gtest` 等技术，旨在进一步掌握C++软件开发流程，补足自己的短板。

# 一、结构

```
.
├── CMakeLists.txt          # 根目录总控
├── proto/
│   └── CMakeLists.txt      # Protobuf 代码生成
├── rpc_manager/
│   ├── client/
│   │   └── CMakeLists.txt  # 客户端模块
│   └── server/
│       └── CMakeLists.txt  # 服务端模块
├── utils/
│   └── CMakeLists.txt      # 工具库
├── test/
│   └── CMakeLists.txt      # 测试模块
└── monitor_view/
    └── CMakeLists.txt      # 监控界面模块（可选）
```

# 二、流程结构

```
┌───────────────────────────────────────────────────────────────────┐
│                           客户端(电脑A)                            │
│  ┌───────────────┐     ┌───────────────────────────────────────┐  │
│  │    Qt界面层    │◄───►│           gRPC客户端层                │  │
│  │ (主窗口/图表)  │     │        (异步请求/响应处理)             │  │
│  └───────────────┘     └──────────────────┬────────────────────┘  │
│                                           │                       │
│                                           ▼                       │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │                      Protobuf数据模型                        │  │
│  │            (CPUInfo消息定义/序列化/反序列化)                  │  │
│  └─────────────────────────────────────────────────────────────┘  │
└───────────────────────────────────────────────────────────────────┘
                                            ▲
                                            │
                                            ▼
┌───────────────────────────────────────────────────────────────────┐
│                           服务器集群(servers)                      │
│  ┌────────────────────────┐  ┌───────────────────────────────┐    │
│  │      gRPC服务端        │  │     系统信息收集模块            │    │
│  │(接收请求/返回数据)     │◄──►│(获取CPU信息/内存/负载等)       │    │
│  └────────────────────────┘  └───────────────────────────────┘    │
│                                                                   │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │                      Protobuf数据模型                        │  │
│  │(与客户端共享相同的proto文件)                                  │  │
│  └─────────────────────────────────────────────────────────────┘  │
└───────────────────────────────────────────────────────────────────┘
```

# 三、各个模块介绍

utils模块：[utils](./utils/README.md ":include :type=markdown")

proto模块：[proto](./proto/README.md ":include :type=markdown")

# 四、docker构建环境

```shell
cd docker/scripts
# 创建镜像
./docker_build.sh
# 创建容器
./monitor_docker_run.sh
# 进入容器
./monitor_docker_into.sh
# 删除容器
./docker_rm_container.sh
# 删除镜像
./docker_rm_image.sh
```

# 五、编译项目

```shell
./monitor_docker_into.sh
cd work/build
cmake ..
make -j8
```

# 六、添加新的模块流程

由于精力和时间问题，本项目没有对Linux系统中的所有资源进行监控，只是对经常接触使用到的资源进行了监控。本项目是我在实习期间结合自己的所见所学，设计的一套代码，代码结果设计的比较合理（我目前的水平），各个模块之间的耦合度很低。所以你如果想要动手实现自己的模块，可以按照下面的流程来添加自己的代码。

## 6.1



































